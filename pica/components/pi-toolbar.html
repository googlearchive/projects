<!--
/*
 * Copyright 2012 The Toolkitchen Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style
 * license that can be found in the LICENSE file.
 */
-->
<link rel="component" href="../../../toolkit/components/g-toolbar.html"/>
<link rel="component" href="../../../toolkit/components/g-icon-button.html"/>
<element name="pi-toolbar" attributes="label nav hideactionbar">
  <template>
    <style>
      .toolbar-label {
        font-size: 21px;
        margin: 0;
      }
      
      @media screen and (max-width: 800px) {
        .toolbar-label {
          display: -webkit-box;
          display: -webkit-flex;
          -webkit-box-pack: center;
          -webkit-justify-content: center;
          margin-right: 56px;
        }
        
        #actionbar content::-webkit-distributed(*:not(:last-child)) {
          display: -webkit-box;
          -webkit-box-flex: 1;
          -webkit-flex: 1;
        }
      }
    </style>
    <g-toolbar>
      <g-icon-button src="{{navIconSrc}}" on-click="navClick"></g-icon-button>
      <div class="toolbar-label flex">{{label}}</div>
      <g-toolbar id="actionbar" responsive="true">
        <content></content>
      </g-toolbar>
    </g-toolbar>
  </template>
  <script>
    Toolkit.register(this, {
      // public
      label: '',
      nav: 'menu',
      hideactionbar: false,
      // protected
      ready: function() {
        this.navChanged();
      },
      navClick: function(e) {
        this.send('nav');
        e.cancelBubble = true;
      },
      hideactionbarChanged: function() {
        this.$.actionbar.style.display = this.hideactionbar ? 'none' : '';
      },
      navChanged: function() {
        if (this.nav) {
          this.navIconSrc = this.resolvePath('../images/' + this.nav + '.png');
        }
      }
    });
  </script>
</element>
